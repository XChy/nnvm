global ptr n init with i32 0
external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 main() {
entry55:
  %a = stack 40
  store i32 10 to ptr @n
  store i32 4 to ptr %a
  60 = ptradd ptr %a, i32 4
  store i32 3 to ptr %60
  62 = ptradd ptr %a, i32 8
  store i32 9 to ptr %62
  64 = ptradd ptr %a, i32 12
  store i32 2 to ptr %64
  66 = ptradd ptr %a, i32 16
  store i32 0 to ptr %66
  68 = ptradd ptr %a, i32 20
  store i32 1 to ptr %68
  70 = ptradd ptr %a, i32 24
  store i32 6 to ptr %70
  72 = ptradd ptr %a, i32 28
  store i32 5 to ptr %72
  74 = ptradd ptr %a, i32 32
  store i32 7 to ptr %74
  76 = ptradd ptr %a, i32 36
  store i32 8 to ptr %76
  br bb %bubblesort.entry
entry55.split:
  br bb %while.cond79
while.cond79:
  i77.phi = phi [bb %entry55.split, i32 0, bb %while.body80, i32 %96]
  n.load83 = load i32 from ptr @n
  84 = icmp slt i32 %i77.phi, i32 %n.load83
  br i1 %84, bb %while.body80, bb %while.exit81
while.body80:
  88 = mul i32 %i77.phi, i32 4
  89 = ptradd ptr %a, i32 %88
  89.load = load i32 from ptr %89
  call void putint(i32 %89.load)
  call void putch(i32 10)
  96 = add i32 %i77.phi, i32 1
  br bb %while.cond79
while.exit81:
  ret i32 0
bubblesort.entry:
  br bb %bubblesort.while.cond
bubblesort.while.cond:
  tmp.phi104109 = phi [bb %bubblesort.entry, i32 ub, bb %bubblesort.while.exit13, i32 %tmp.phi103120]
  i.phi110 = phi [bb %bubblesort.entry, i32 0, bb %bubblesort.while.exit13, i32 %54138]
  n.load111 = load i32 from ptr @n
  8112 = sub i32 %n.load111, i32 1
  9113 = icmp slt i32 %i.phi110, i32 %8112
  br i1 %9113, bb %bubblesort.while.body, bb %bubblesort.while.exit
bubblesort.while.body:
  br bb %bubblesort.while.cond11
bubblesort.while.exit:
  br bb %entry55.split
bubblesort.while.cond11:
  tmp.phi103120 = phi [bb %bubblesort.while.body, i32 %tmp.phi104109, bb %bubblesort.if.exit, i32 %tmp.phi147]
  j.phi121 = phi [bb %bubblesort.while.body, i32 0, bb %bubblesort.if.exit, i32 %26131]
  n.load15122 = load i32 from ptr @n
  17123 = sub i32 %n.load15122, i32 %i.phi110
  18124 = sub i32 %17123, i32 1
  19125 = icmp slt i32 %j.phi121, i32 %18124
  br i1 %19125, bb %bubblesort.while.body12, bb %bubblesort.while.exit13
bubblesort.while.body12:
  22128 = mul i32 %j.phi121, i32 4
  23129 = ptradd ptr %a, i32 %22128
  23.load130 = load i32 from ptr %23129
  26131 = add i32 %j.phi121, i32 1
  27132 = mul i32 %26131, i32 4
  28133 = ptradd ptr %a, i32 %27132
  28.load134 = load i32 from ptr %28133
  30135 = icmp sgt i32 %23.load130, i32 %28.load134
  br i1 %30135, bb %bubblesort.then, bb %bubblesort.if.exit
bubblesort.while.exit13:
  54138 = add i32 %i.phi110, i32 1
  br bb %bubblesort.while.cond
bubblesort.then:
  37.load141 = load i32 from ptr %28133
  45.load142 = load i32 from ptr %23129
  store i32 %45.load142 to ptr %28133
  store i32 %37.load141 to ptr %23129
  br bb %bubblesort.if.exit
bubblesort.if.exit:
  tmp.phi147 = phi [bb %bubblesort.while.body12, i32 %tmp.phi103120, bb %bubblesort.then, i32 %37.load141]
  br bb %bubblesort.while.cond11
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )

i32 bubblesort(ptr arr) {
entry:
  br bb %while.cond
while.cond:
  tmp.phi104 = phi [bb %entry, i32 ub, bb %while.exit13, i32 %tmp.phi103]
  i.phi = phi [bb %entry, i32 0, bb %while.exit13, i32 %54]
  n.load = load i32 from ptr @n
  8 = sub i32 %n.load, i32 1
  9 = icmp slt i32 %i.phi, i32 %8
  br i1 %9, bb %while.body, bb %while.exit
while.body:
  br bb %while.cond11
while.exit:
  ret i32 0
while.cond11:
  tmp.phi103 = phi [bb %while.body, i32 %tmp.phi104, bb %if.exit, i32 %tmp.phi]
  j.phi = phi [bb %while.body, i32 0, bb %if.exit, i32 %26]
  n.load15 = load i32 from ptr @n
  17 = sub i32 %n.load15, i32 %i.phi
  18 = sub i32 %17, i32 1
  19 = icmp slt i32 %j.phi, i32 %18
  br i1 %19, bb %while.body12, bb %while.exit13
while.body12:
  22 = mul i32 %j.phi, i32 4
  23 = ptradd ptr %arr, i32 %22
  23.load = load i32 from ptr %23
  26 = add i32 %j.phi, i32 1
  27 = mul i32 %26, i32 4
  28 = ptradd ptr %arr, i32 %27
  28.load = load i32 from ptr %28
  30 = icmp sgt i32 %23.load, i32 %28.load
  br i1 %30, bb %then, bb %if.exit
while.exit13:
  54 = add i32 %i.phi, i32 1
  br bb %while.cond
then:
  37.load = load i32 from ptr %28
  45.load = load i32 from ptr %23
  store i32 %45.load to ptr %28
  store i32 %37.load to ptr %23
  br bb %if.exit
if.exit:
  tmp.phi = phi [bb %while.body12, i32 %tmp.phi103, bb %then, i32 %37.load]
  br bb %while.cond11
}


