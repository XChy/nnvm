global ptr n init with i32 0
external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 main() {
entry55:
  %a = stack 40
  store i32 10 to ptr @n
  store i32 4 to ptr %a
  60 = ptradd ptr %a, i32 4
  store i32 3 to ptr %60
  62 = ptradd ptr %a, i32 8
  store i32 9 to ptr %62
  64 = ptradd ptr %a, i32 12
  store i32 2 to ptr %64
  66 = ptradd ptr %a, i32 16
  store i32 0 to ptr %66
  68 = ptradd ptr %a, i32 20
  store i32 1 to ptr %68
  70 = ptradd ptr %a, i32 24
  store i32 6 to ptr %70
  72 = ptradd ptr %a, i32 28
  store i32 5 to ptr %72
  74 = ptradd ptr %a, i32 32
  store i32 7 to ptr %74
  76 = ptradd ptr %a, i32 36
  store i32 8 to ptr %76
  8119 = sub i32 10, i32 1
  br bb %bubblesort.while.cond
while.cond79:
  i77.phi = phi [bb %bubblesort.while.exit, i32 0, bb %while.body80, i32 %96]
  n.load83 = load i32 from ptr @n
  84 = icmp slt i32 %i77.phi, i32 %n.load83
  br i1 %84, bb %while.body80, bb %while.exit81
while.body80:
  105 = shl i32 %i77.phi, i32 2
  89 = ptradd ptr %a, i32 %105
  89.load = load i32 from ptr %89
  call void putint(i32 %89.load)
  call void putch(i32 10)
  96 = add i32 %i77.phi, i32 1
  br bb %while.cond79
while.exit81:
  ret i32 0
bubblesort.while.cond:
  tmp.phi104116 = phi [bb %entry55, i32 ub, bb %bubblesort.while.exit13, i32 %tmp.phi103127]
  i.phi117 = phi [bb %entry55, i32 0, bb %bubblesort.while.exit13, i32 %54145]
  9120 = icmp slt i32 %i.phi117, i32 %8119
  br i1 %9120, bb %bubblesort.while.body, bb %bubblesort.while.exit
bubblesort.while.body:
  17130 = sub i32 10, i32 %i.phi117
  18131 = sub i32 %17130, i32 1
  br bb %bubblesort.while.cond11
bubblesort.while.exit:
  br bb %while.cond79
bubblesort.while.cond11:
  tmp.phi103127 = phi [bb %bubblesort.while.body, i32 %tmp.phi104116, bb %bubblesort.if.exit, i32 %tmp.phi154]
  j.phi128 = phi [bb %bubblesort.while.body, i32 0, bb %bubblesort.if.exit, i32 %26138]
  19132 = icmp slt i32 %j.phi128, i32 %18131
  br i1 %19132, bb %bubblesort.while.body12, bb %bubblesort.while.exit13
bubblesort.while.body12:
  106135 = shl i32 %j.phi128, i32 2
  23136 = ptradd ptr %a, i32 %106135
  23.load137 = load i32 from ptr %23136
  26138 = add i32 %j.phi128, i32 1
  107139 = shl i32 %26138, i32 2
  28140 = ptradd ptr %a, i32 %107139
  28.load141 = load i32 from ptr %28140
  30142 = icmp sgt i32 %23.load137, i32 %28.load141
  br i1 %30142, bb %bubblesort.then, bb %bubblesort.if.exit
bubblesort.while.exit13:
  54145 = add i32 %i.phi117, i32 1
  br bb %bubblesort.while.cond
bubblesort.then:
  37.load148 = load i32 from ptr %28140
  45.load149 = load i32 from ptr %23136
  store i32 %45.load149 to ptr %28140
  store i32 %37.load148 to ptr %23136
  br bb %bubblesort.if.exit
bubblesort.if.exit:
  tmp.phi154 = phi [bb %bubblesort.while.body12, i32 %tmp.phi103127, bb %bubblesort.then, i32 %37.load148]
  br bb %bubblesort.while.cond11
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )

i32 bubblesort(ptr arr) {
entry:
  br bb %while.cond
while.cond:
  tmp.phi104 = phi [bb %entry, i32 ub, bb %while.exit13, i32 %tmp.phi103]
  i.phi = phi [bb %entry, i32 0, bb %while.exit13, i32 %54]
  n.load = load i32 from ptr @n
  8 = sub i32 %n.load, i32 1
  9 = icmp slt i32 %i.phi, i32 %8
  br i1 %9, bb %while.body, bb %while.exit
while.body:
  br bb %while.cond11
while.exit:
  ret i32 0
while.cond11:
  tmp.phi103 = phi [bb %while.body, i32 %tmp.phi104, bb %if.exit, i32 %tmp.phi]
  j.phi = phi [bb %while.body, i32 0, bb %if.exit, i32 %26]
  n.load15 = load i32 from ptr @n
  17 = sub i32 %n.load15, i32 %i.phi
  18 = sub i32 %17, i32 1
  19 = icmp slt i32 %j.phi, i32 %18
  br i1 %19, bb %while.body12, bb %while.exit13
while.body12:
  106 = shl i32 %j.phi, i32 2
  23 = ptradd ptr %arr, i32 %106
  23.load = load i32 from ptr %23
  26 = add i32 %j.phi, i32 1
  107 = shl i32 %26, i32 2
  28 = ptradd ptr %arr, i32 %107
  28.load = load i32 from ptr %28
  30 = icmp sgt i32 %23.load, i32 %28.load
  br i1 %30, bb %then, bb %if.exit
while.exit13:
  54 = add i32 %i.phi, i32 1
  br bb %while.cond
then:
  37.load = load i32 from ptr %28
  45.load = load i32 from ptr %23
  store i32 %45.load to ptr %28
  store i32 %37.load to ptr %23
  br bb %if.exit
if.exit:
  tmp.phi = phi [bb %while.body12, i32 %tmp.phi103, bb %then, i32 %37.load]
  br bb %while.cond11
}


