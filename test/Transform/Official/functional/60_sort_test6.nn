global ptr n init with i32 0
external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 counting_sort(ptr ini_arr, ptr sorted_arr, i32 n) {
entry:
  %count_arr = stack 40
  br bb %while.cond
while.cond:
  k.phi148 = phi [bb %entry, i32 0, bb %while.body, i32 %16]
  10 = icmp slt i32 %k.phi148, i32 10
  br i1 %10, bb %while.body, bb %while.exit
while.body:
  151 = shl i32 %k.phi148, i32 2
  14 = ptradd ptr %count_arr, i32 %151
  store i32 0 to ptr %14
  16 = add i32 %k.phi148, i32 1
  br bb %while.cond
while.exit:
  br bb %while.cond17
while.cond17:
  i.phi = phi [bb %while.exit, i32 0, bb %while.body18, i32 %39]
  22 = icmp slt i32 %i.phi, i32 %n
  br i1 %22, bb %while.body18, bb %while.exit19
while.body18:
  152 = shl i32 %i.phi, i32 2
  26 = ptradd ptr %ini_arr, i32 %152
  26.load = load i32 from ptr %26
  153 = shl i32 %26.load, i32 2
  29 = ptradd ptr %count_arr, i32 %153
  35.load = load i32 from ptr %29
  37 = add i32 %35.load, i32 1
  store i32 %37 to ptr %29
  39 = add i32 %i.phi, i32 1
  br bb %while.cond17
while.exit19:
  br bb %while.cond40
while.cond40:
  k.phi = phi [bb %while.exit19, i32 1, bb %while.body41, i32 %60]
  44 = icmp slt i32 %k.phi, i32 10
  br i1 %44, bb %while.body41, bb %while.exit42
while.body41:
  156 = shl i32 %k.phi, i32 2
  48 = ptradd ptr %count_arr, i32 %156
  51.load = load i32 from ptr %48
  54 = sub i32 %k.phi, i32 1
  158 = shl i32 %54, i32 2
  56 = ptradd ptr %count_arr, i32 %158
  56.load = load i32 from ptr %56
  58 = add i32 %51.load, i32 %56.load
  store i32 %58 to ptr %48
  60 = add i32 %k.phi, i32 1
  br bb %while.cond40
while.exit42:
  br bb %while.cond62
while.cond62:
  j.phi = phi [bb %while.exit42, i32 %n, bb %while.body63, i32 %69]
  66 = icmp sgt i32 %j.phi, i32 0
  br i1 %66, bb %while.body63, bb %while.exit64
while.body63:
  69 = sub i32 %j.phi, i32 1
  159 = shl i32 %69, i32 2
  71 = ptradd ptr %ini_arr, i32 %159
  71.load = load i32 from ptr %71
  160 = shl i32 %71.load, i32 2
  74 = ptradd ptr %count_arr, i32 %160
  81.load = load i32 from ptr %74
  83 = sub i32 %81.load, i32 1
  store i32 %83 to ptr %74
  90.load = load i32 from ptr %74
  165 = shl i32 %90.load, i32 2
  93 = ptradd ptr %sorted_arr, i32 %165
  store i32 %71.load to ptr %93
  br bb %while.cond62
while.exit64:
  ret i32 0
}

i32 main() {
entry101:
  %count_arr170 = stack 40
  %b = stack 40
  %a = stack 40
  store i32 10 to ptr @n
  store i32 4 to ptr %a
  106 = ptradd ptr %a, i32 4
  store i32 3 to ptr %106
  108 = ptradd ptr %a, i32 8
  store i32 9 to ptr %108
  110 = ptradd ptr %a, i32 12
  store i32 2 to ptr %110
  112 = ptradd ptr %a, i32 16
  store i32 0 to ptr %112
  114 = ptradd ptr %a, i32 20
  store i32 1 to ptr %114
  116 = ptradd ptr %a, i32 24
  store i32 6 to ptr %116
  118 = ptradd ptr %a, i32 28
  store i32 5 to ptr %118
  120 = ptradd ptr %a, i32 32
  store i32 7 to ptr %120
  122 = ptradd ptr %a, i32 36
  store i32 8 to ptr %122
  br bb %counting_sort.while.cond
while.cond127:
  i123.phi = phi [bb %counting_sort.while.exit64, i32 0, bb %while.body128, i32 %144]
  n.load131 = load i32 from ptr @n
  132 = icmp slt i32 %i123.phi, i32 %n.load131
  br i1 %132, bb %while.body128, bb %while.exit129
while.body128:
  167 = shl i32 %i123.phi, i32 2
  137 = ptradd ptr %b, i32 %167
  137.load = load i32 from ptr %137
  call void putint(i32 %137.load)
  call void putch(i32 10)
  144 = add i32 %i123.phi, i32 1
  br bb %while.cond127
while.exit129:
  ret i32 0
counting_sort.while.cond:
  k.phi148173 = phi [bb %entry101, i32 0, bb %counting_sort.while.body, i32 %16180]
  10174 = icmp slt i32 %k.phi148173, i32 10
  br i1 %10174, bb %counting_sort.while.body, bb %counting_sort.while.exit
counting_sort.while.body:
  151177 = shl i32 %k.phi148173, i32 2
  14178 = ptradd ptr %count_arr170, i32 %151177
  store i32 0 to ptr %14178
  16180 = add i32 %k.phi148173, i32 1
  br bb %counting_sort.while.cond
counting_sort.while.exit:
  br bb %counting_sort.while.cond17
counting_sort.while.cond17:
  i.phi185 = phi [bb %counting_sort.while.exit, i32 0, bb %counting_sort.while.body18, i32 %39197]
  22186 = icmp slt i32 %i.phi185, i32 10
  br i1 %22186, bb %counting_sort.while.body18, bb %counting_sort.while.exit19
counting_sort.while.body18:
  152189 = shl i32 %i.phi185, i32 2
  26190 = ptradd ptr %a, i32 %152189
  26.load191 = load i32 from ptr %26190
  153192 = shl i32 %26.load191, i32 2
  29193 = ptradd ptr %count_arr170, i32 %153192
  35.load194 = load i32 from ptr %29193
  37195 = add i32 %35.load194, i32 1
  store i32 %37195 to ptr %29193
  39197 = add i32 %i.phi185, i32 1
  br bb %counting_sort.while.cond17
counting_sort.while.exit19:
  br bb %counting_sort.while.cond40
counting_sort.while.cond40:
  k.phi202 = phi [bb %counting_sort.while.exit19, i32 1, bb %counting_sort.while.body41, i32 %60215]
  44203 = icmp slt i32 %k.phi202, i32 10
  br i1 %44203, bb %counting_sort.while.body41, bb %counting_sort.while.exit42
counting_sort.while.body41:
  156206 = shl i32 %k.phi202, i32 2
  48207 = ptradd ptr %count_arr170, i32 %156206
  51.load208 = load i32 from ptr %48207
  54209 = sub i32 %k.phi202, i32 1
  158210 = shl i32 %54209, i32 2
  56211 = ptradd ptr %count_arr170, i32 %158210
  56.load212 = load i32 from ptr %56211
  58213 = add i32 %51.load208, i32 %56.load212
  store i32 %58213 to ptr %48207
  60215 = add i32 %k.phi202, i32 1
  br bb %counting_sort.while.cond40
counting_sort.while.exit42:
  br bb %counting_sort.while.cond62
counting_sort.while.cond62:
  j.phi220 = phi [bb %counting_sort.while.exit42, i32 10, bb %counting_sort.while.body63, i32 %69224]
  66221 = icmp sgt i32 %j.phi220, i32 0
  br i1 %66221, bb %counting_sort.while.body63, bb %counting_sort.while.exit64
counting_sort.while.body63:
  69224 = sub i32 %j.phi220, i32 1
  159225 = shl i32 %69224, i32 2
  71226 = ptradd ptr %a, i32 %159225
  71.load227 = load i32 from ptr %71226
  160228 = shl i32 %71.load227, i32 2
  74229 = ptradd ptr %count_arr170, i32 %160228
  81.load230 = load i32 from ptr %74229
  83231 = sub i32 %81.load230, i32 1
  store i32 %83231 to ptr %74229
  90.load236 = load i32 from ptr %74229
  165237 = shl i32 %90.load236, i32 2
  93238 = ptradd ptr %b, i32 %165237
  store i32 %71.load227 to ptr %93238
  br bb %counting_sort.while.cond62
counting_sort.while.exit64:
  br bb %while.cond127
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )


