global ptr n init with i32 0
external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 counting_sort(ptr ini_arr, ptr sorted_arr, i32 n) {
entry:
  %count_arr = stack 40
  br bb %while.cond
while.cond:
  k.phi148 = phi [bb %entry, i32 0, bb %while.body, i32 %16]
  10 = icmp slt i32 %k.phi148, i32 10
  br i1 %10, bb %while.body, bb %while.exit
while.body:
  13 = mul i32 %k.phi148, i32 4
  14 = ptradd ptr %count_arr, i32 %13
  store i32 0 to ptr %14
  16 = add i32 %k.phi148, i32 1
  br bb %while.cond
while.exit:
  br bb %while.cond17
while.cond17:
  i.phi = phi [bb %while.exit, i32 0, bb %while.body18, i32 %39]
  22 = icmp slt i32 %i.phi, i32 %n
  br i1 %22, bb %while.body18, bb %while.exit19
while.body18:
  25 = mul i32 %i.phi, i32 4
  26 = ptradd ptr %ini_arr, i32 %25
  26.load = load i32 from ptr %26
  28 = mul i32 %26.load, i32 4
  29 = ptradd ptr %count_arr, i32 %28
  32.load = load i32 from ptr %26
  34 = mul i32 %32.load, i32 4
  35 = ptradd ptr %count_arr, i32 %34
  35.load = load i32 from ptr %35
  37 = add i32 %35.load, i32 1
  store i32 %37 to ptr %29
  39 = add i32 %i.phi, i32 1
  br bb %while.cond17
while.exit19:
  br bb %while.cond40
while.cond40:
  k.phi = phi [bb %while.exit19, i32 1, bb %while.body41, i32 %60]
  44 = icmp slt i32 %k.phi, i32 10
  br i1 %44, bb %while.body41, bb %while.exit42
while.body41:
  47 = mul i32 %k.phi, i32 4
  48 = ptradd ptr %count_arr, i32 %47
  51.load = load i32 from ptr %48
  54 = sub i32 %k.phi, i32 1
  55 = mul i32 %54, i32 4
  56 = ptradd ptr %count_arr, i32 %55
  56.load = load i32 from ptr %56
  58 = add i32 %51.load, i32 %56.load
  store i32 %58 to ptr %48
  60 = add i32 %k.phi, i32 1
  br bb %while.cond40
while.exit42:
  br bb %while.cond62
while.cond62:
  j.phi = phi [bb %while.exit42, i32 %n, bb %while.body63, i32 %69]
  66 = icmp sgt i32 %j.phi, i32 0
  br i1 %66, bb %while.body63, bb %while.exit64
while.body63:
  69 = sub i32 %j.phi, i32 1
  70 = mul i32 %69, i32 4
  71 = ptradd ptr %ini_arr, i32 %70
  71.load = load i32 from ptr %71
  73 = mul i32 %71.load, i32 4
  74 = ptradd ptr %count_arr, i32 %73
  78.load = load i32 from ptr %71
  80 = mul i32 %78.load, i32 4
  81 = ptradd ptr %count_arr, i32 %80
  81.load = load i32 from ptr %81
  83 = sub i32 %81.load, i32 1
  store i32 %83 to ptr %74
  87.load = load i32 from ptr %71
  89 = mul i32 %87.load, i32 4
  90 = ptradd ptr %count_arr, i32 %89
  90.load = load i32 from ptr %90
  92 = mul i32 %90.load, i32 4
  93 = ptradd ptr %sorted_arr, i32 %92
  97.load = load i32 from ptr %71
  store i32 %97.load to ptr %93
  br bb %while.cond62
while.exit64:
  ret i32 0
}

i32 main() {
entry101:
  %count_arr153 = stack 40
  %b = stack 40
  %a = stack 40
  store i32 10 to ptr @n
  store i32 4 to ptr %a
  106 = ptradd ptr %a, i32 4
  store i32 3 to ptr %106
  108 = ptradd ptr %a, i32 8
  store i32 9 to ptr %108
  110 = ptradd ptr %a, i32 12
  store i32 2 to ptr %110
  112 = ptradd ptr %a, i32 16
  store i32 0 to ptr %112
  114 = ptradd ptr %a, i32 20
  store i32 1 to ptr %114
  116 = ptradd ptr %a, i32 24
  store i32 6 to ptr %116
  118 = ptradd ptr %a, i32 28
  store i32 5 to ptr %118
  120 = ptradd ptr %a, i32 32
  store i32 7 to ptr %120
  122 = ptradd ptr %a, i32 36
  store i32 8 to ptr %122
  n.load = load i32 from ptr @n
  br bb %counting_sort.entry
entry101.split:
  br bb %while.cond127
while.cond127:
  i123.phi = phi [bb %entry101.split, i32 0, bb %while.body128, i32 %144]
  n.load131 = load i32 from ptr @n
  132 = icmp slt i32 %i123.phi, i32 %n.load131
  br i1 %132, bb %while.body128, bb %while.exit129
while.body128:
  136 = mul i32 %i123.phi, i32 4
  137 = ptradd ptr %b, i32 %136
  137.load = load i32 from ptr %137
  call void putint(i32 %137.load)
  call void putch(i32 10)
  144 = add i32 %i123.phi, i32 1
  br bb %while.cond127
while.exit129:
  ret i32 0
counting_sort.entry:
  br bb %counting_sort.while.cond
counting_sort.while.cond:
  k.phi148156 = phi [bb %counting_sort.entry, i32 0, bb %counting_sort.while.body, i32 %16163]
  10157 = icmp slt i32 %k.phi148156, i32 10
  br i1 %10157, bb %counting_sort.while.body, bb %counting_sort.while.exit
counting_sort.while.body:
  13160 = mul i32 %k.phi148156, i32 4
  14161 = ptradd ptr %count_arr153, i32 %13160
  store i32 0 to ptr %14161
  16163 = add i32 %k.phi148156, i32 1
  br bb %counting_sort.while.cond
counting_sort.while.exit:
  br bb %counting_sort.while.cond17
counting_sort.while.cond17:
  i.phi168 = phi [bb %counting_sort.while.exit, i32 0, bb %counting_sort.while.body18, i32 %39183]
  22169 = icmp slt i32 %i.phi168, i32 %n.load
  br i1 %22169, bb %counting_sort.while.body18, bb %counting_sort.while.exit19
counting_sort.while.body18:
  25172 = mul i32 %i.phi168, i32 4
  26173 = ptradd ptr %a, i32 %25172
  26.load174 = load i32 from ptr %26173
  28175 = mul i32 %26.load174, i32 4
  29176 = ptradd ptr %count_arr153, i32 %28175
  32.load177 = load i32 from ptr %26173
  34178 = mul i32 %32.load177, i32 4
  35179 = ptradd ptr %count_arr153, i32 %34178
  35.load180 = load i32 from ptr %35179
  37181 = add i32 %35.load180, i32 1
  store i32 %37181 to ptr %29176
  39183 = add i32 %i.phi168, i32 1
  br bb %counting_sort.while.cond17
counting_sort.while.exit19:
  br bb %counting_sort.while.cond40
counting_sort.while.cond40:
  k.phi188 = phi [bb %counting_sort.while.exit19, i32 1, bb %counting_sort.while.body41, i32 %60201]
  44189 = icmp slt i32 %k.phi188, i32 10
  br i1 %44189, bb %counting_sort.while.body41, bb %counting_sort.while.exit42
counting_sort.while.body41:
  47192 = mul i32 %k.phi188, i32 4
  48193 = ptradd ptr %count_arr153, i32 %47192
  51.load194 = load i32 from ptr %48193
  54195 = sub i32 %k.phi188, i32 1
  55196 = mul i32 %54195, i32 4
  56197 = ptradd ptr %count_arr153, i32 %55196
  56.load198 = load i32 from ptr %56197
  58199 = add i32 %51.load194, i32 %56.load198
  store i32 %58199 to ptr %48193
  60201 = add i32 %k.phi188, i32 1
  br bb %counting_sort.while.cond40
counting_sort.while.exit42:
  br bb %counting_sort.while.cond62
counting_sort.while.cond62:
  j.phi206 = phi [bb %counting_sort.while.exit42, i32 %n.load, bb %counting_sort.while.body63, i32 %69210]
  66207 = icmp sgt i32 %j.phi206, i32 0
  br i1 %66207, bb %counting_sort.while.body63, bb %counting_sort.while.exit64
counting_sort.while.body63:
  69210 = sub i32 %j.phi206, i32 1
  70211 = mul i32 %69210, i32 4
  71212 = ptradd ptr %a, i32 %70211
  71.load213 = load i32 from ptr %71212
  73214 = mul i32 %71.load213, i32 4
  74215 = ptradd ptr %count_arr153, i32 %73214
  78.load216 = load i32 from ptr %71212
  80217 = mul i32 %78.load216, i32 4
  81218 = ptradd ptr %count_arr153, i32 %80217
  81.load219 = load i32 from ptr %81218
  83220 = sub i32 %81.load219, i32 1
  store i32 %83220 to ptr %74215
  87.load222 = load i32 from ptr %71212
  89223 = mul i32 %87.load222, i32 4
  90224 = ptradd ptr %count_arr153, i32 %89223
  90.load225 = load i32 from ptr %90224
  92226 = mul i32 %90.load225, i32 4
  93227 = ptradd ptr %b, i32 %92226
  97.load228 = load i32 from ptr %71212
  store i32 %97.load228 to ptr %93227
  br bb %counting_sort.while.cond62
counting_sort.while.exit64:
  br bb %entry101.split
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )


