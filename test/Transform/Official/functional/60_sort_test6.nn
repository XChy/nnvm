global ptr n init with i32 0
external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 counting_sort(ptr ini_arr, ptr sorted_arr, i32 n) {
entry:
  %count_arr = stack 40
  br bb %while.cond
while.cond:
  k.phi148 = phi [bb %entry, i32 0, bb %while.body, i32 %16]
  10 = icmp slt i32 %k.phi148, i32 10
  br i1 %10, bb %while.body, bb %while.exit
while.body:
  13 = mul i32 %k.phi148, i32 4
  14 = ptradd ptr %count_arr, i32 %13
  store i32 0 to ptr %14
  16 = add i32 %k.phi148, i32 1
  br bb %while.cond
while.exit:
  br bb %while.cond17
while.cond17:
  i.phi = phi [bb %while.exit, i32 0, bb %while.body18, i32 %39]
  22 = icmp slt i32 %i.phi, i32 %n
  br i1 %22, bb %while.body18, bb %while.exit19
while.body18:
  25 = mul i32 %i.phi, i32 4
  26 = ptradd ptr %ini_arr, i32 %25
  26.load = load i32 from ptr %26
  28 = mul i32 %26.load, i32 4
  29 = ptradd ptr %count_arr, i32 %28
  35.load = load i32 from ptr %29
  37 = add i32 %35.load, i32 1
  store i32 %37 to ptr %29
  39 = add i32 %i.phi, i32 1
  br bb %while.cond17
while.exit19:
  br bb %while.cond40
while.cond40:
  k.phi = phi [bb %while.exit19, i32 1, bb %while.body41, i32 %60]
  44 = icmp slt i32 %k.phi, i32 10
  br i1 %44, bb %while.body41, bb %while.exit42
while.body41:
  47 = mul i32 %k.phi, i32 4
  48 = ptradd ptr %count_arr, i32 %47
  51.load = load i32 from ptr %48
  54 = sub i32 %k.phi, i32 1
  55 = mul i32 %54, i32 4
  56 = ptradd ptr %count_arr, i32 %55
  56.load = load i32 from ptr %56
  58 = add i32 %51.load, i32 %56.load
  store i32 %58 to ptr %48
  60 = add i32 %k.phi, i32 1
  br bb %while.cond40
while.exit42:
  br bb %while.cond62
while.cond62:
  j.phi = phi [bb %while.exit42, i32 %n, bb %while.body63, i32 %69]
  66 = icmp sgt i32 %j.phi, i32 0
  br i1 %66, bb %while.body63, bb %while.exit64
while.body63:
  69 = sub i32 %j.phi, i32 1
  70 = mul i32 %69, i32 4
  71 = ptradd ptr %ini_arr, i32 %70
  71.load = load i32 from ptr %71
  73 = mul i32 %71.load, i32 4
  74 = ptradd ptr %count_arr, i32 %73
  81.load = load i32 from ptr %74
  83 = sub i32 %81.load, i32 1
  store i32 %83 to ptr %74
  87.load = load i32 from ptr %71
  89 = mul i32 %87.load, i32 4
  90 = ptradd ptr %count_arr, i32 %89
  90.load = load i32 from ptr %90
  92 = mul i32 %90.load, i32 4
  93 = ptradd ptr %sorted_arr, i32 %92
  store i32 %87.load to ptr %93
  br bb %while.cond62
while.exit64:
  ret i32 0
}

i32 main() {
entry101:
  %count_arr153 = stack 40
  %b = stack 40
  %a = stack 40
  store i32 10 to ptr @n
  store i32 4 to ptr %a
  106 = ptradd ptr %a, i32 4
  store i32 3 to ptr %106
  108 = ptradd ptr %a, i32 8
  store i32 9 to ptr %108
  110 = ptradd ptr %a, i32 12
  store i32 2 to ptr %110
  112 = ptradd ptr %a, i32 16
  store i32 0 to ptr %112
  114 = ptradd ptr %a, i32 20
  store i32 1 to ptr %114
  116 = ptradd ptr %a, i32 24
  store i32 6 to ptr %116
  118 = ptradd ptr %a, i32 28
  store i32 5 to ptr %118
  120 = ptradd ptr %a, i32 32
  store i32 7 to ptr %120
  122 = ptradd ptr %a, i32 36
  store i32 8 to ptr %122
  n.load = load i32 from ptr @n
  br bb %counting_sort.while.cond
while.cond127:
  i123.phi = phi [bb %counting_sort.while.exit64, i32 0, bb %while.body128, i32 %144]
  n.load131 = load i32 from ptr @n
  132 = icmp slt i32 %i123.phi, i32 %n.load131
  br i1 %132, bb %while.body128, bb %while.exit129
while.body128:
  136 = mul i32 %i123.phi, i32 4
  137 = ptradd ptr %b, i32 %136
  137.load = load i32 from ptr %137
  call void putint(i32 %137.load)
  call void putch(i32 10)
  144 = add i32 %i123.phi, i32 1
  br bb %while.cond127
while.exit129:
  ret i32 0
counting_sort.while.cond:
  k.phi148156 = phi [bb %entry101, i32 0, bb %counting_sort.while.body, i32 %16163]
  10157 = icmp slt i32 %k.phi148156, i32 10
  br i1 %10157, bb %counting_sort.while.body, bb %counting_sort.while.exit
counting_sort.while.body:
  13160 = mul i32 %k.phi148156, i32 4
  14161 = ptradd ptr %count_arr153, i32 %13160
  store i32 0 to ptr %14161
  16163 = add i32 %k.phi148156, i32 1
  br bb %counting_sort.while.cond
counting_sort.while.exit:
  br bb %counting_sort.while.cond17
counting_sort.while.cond17:
  i.phi168 = phi [bb %counting_sort.while.exit, i32 0, bb %counting_sort.while.body18, i32 %39180]
  22169 = icmp slt i32 %i.phi168, i32 %n.load
  br i1 %22169, bb %counting_sort.while.body18, bb %counting_sort.while.exit19
counting_sort.while.body18:
  25172 = mul i32 %i.phi168, i32 4
  26173 = ptradd ptr %a, i32 %25172
  26.load174 = load i32 from ptr %26173
  28175 = mul i32 %26.load174, i32 4
  29176 = ptradd ptr %count_arr153, i32 %28175
  35.load177 = load i32 from ptr %29176
  37178 = add i32 %35.load177, i32 1
  store i32 %37178 to ptr %29176
  39180 = add i32 %i.phi168, i32 1
  br bb %counting_sort.while.cond17
counting_sort.while.exit19:
  br bb %counting_sort.while.cond40
counting_sort.while.cond40:
  k.phi185 = phi [bb %counting_sort.while.exit19, i32 1, bb %counting_sort.while.body41, i32 %60198]
  44186 = icmp slt i32 %k.phi185, i32 10
  br i1 %44186, bb %counting_sort.while.body41, bb %counting_sort.while.exit42
counting_sort.while.body41:
  47189 = mul i32 %k.phi185, i32 4
  48190 = ptradd ptr %count_arr153, i32 %47189
  51.load191 = load i32 from ptr %48190
  54192 = sub i32 %k.phi185, i32 1
  55193 = mul i32 %54192, i32 4
  56194 = ptradd ptr %count_arr153, i32 %55193
  56.load195 = load i32 from ptr %56194
  58196 = add i32 %51.load191, i32 %56.load195
  store i32 %58196 to ptr %48190
  60198 = add i32 %k.phi185, i32 1
  br bb %counting_sort.while.cond40
counting_sort.while.exit42:
  br bb %counting_sort.while.cond62
counting_sort.while.cond62:
  j.phi203 = phi [bb %counting_sort.while.exit42, i32 %n.load, bb %counting_sort.while.body63, i32 %69207]
  66204 = icmp sgt i32 %j.phi203, i32 0
  br i1 %66204, bb %counting_sort.while.body63, bb %counting_sort.while.exit64
counting_sort.while.body63:
  69207 = sub i32 %j.phi203, i32 1
  70208 = mul i32 %69207, i32 4
  71209 = ptradd ptr %a, i32 %70208
  71.load210 = load i32 from ptr %71209
  73211 = mul i32 %71.load210, i32 4
  74212 = ptradd ptr %count_arr153, i32 %73211
  81.load213 = load i32 from ptr %74212
  83214 = sub i32 %81.load213, i32 1
  store i32 %83214 to ptr %74212
  87.load216 = load i32 from ptr %71209
  89217 = mul i32 %87.load216, i32 4
  90218 = ptradd ptr %count_arr153, i32 %89217
  90.load219 = load i32 from ptr %90218
  92220 = mul i32 %90.load219, i32 4
  93221 = ptradd ptr %b, i32 %92220
  store i32 %87.load216 to ptr %93221
  br bb %counting_sort.while.cond62
counting_sort.while.exit64:
  br bb %while.cond127
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )


