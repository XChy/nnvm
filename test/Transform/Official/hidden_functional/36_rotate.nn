global ptr height init with i32 0
global ptr width init with i32 0
internal global ptr image init with 1048576 x i32 zeros
pure internal float my_sin_impl(float x) {
entry23:  pred()
  3768 = si2f i32 0 to float
  4769 = fcmp ogt float %x, float %3768
  9774 = fneg float %x
  br i1 %4769, bb %26.ret.which.true, bb %entry23.split848
entry23.split848:  pred(entry23, 26.ret.which.true)
  850 = phi [bb %26.ret.which.true, float %x, bb %entry23, float %9774]
  28 = fcmp ole float %850, float 0.000001
  br i1 %28, bb %then29, bb %if.exit30
then29:  pred(entry23.split848)
  ret float %x
if.exit30:  pred(entry23.split848)
  33 = fdiv float %x, float 3.000000
  34 = call float my_sin_impl(float %33)
  13398 = si2f i32 3 to float
  14399 = fmul float %13398, float %34
  16400 = si2f i32 4 to float
  17401 = fmul float %16400, float %34
  19402 = fmul float %17401, float %34
  21403 = fmul float %19402, float %34
  22404 = fsub float %14399, float %21403
  ret float %22404
26.ret.which.true:  pred(entry23)
  br bb %entry23.split848
}

external i32 getint()

external i32 getch()

external void putint(i32 )

i32 main() {
entry298:  pred()
  300 = call float getfloat()
  301 = call i32 getch()
  95555 = call i32 getch()
  96556 = icmp ne i32 %95555, i32 80
  br i1 %96556, bb %read_image.select.exit99, bb %read_image.select.else98
entry298.split:  pred(read_image.while.cond.cp, read_image.select.exit99, read_image.select.exit126)
  302.ret = phi [bb %read_image.select.exit99, i32 -1, bb %read_image.select.exit126, i32 -1, bb %read_image.while.cond.cp, i32 0]
  303 = icmp slt i32 %302.ret, i32 0
  br i1 %303, bb %then304, bb %if.exit305
then304:  pred(entry298.split)
  ret i32 -1
if.exit305:  pred(entry298.split)
  call void putch(i32 80)
  call void putch(i32 50)
  call void putch(i32 10)
  width.load261622 = load i32 from ptr %width.pinned
  call void putint(i32 %width.load261622)
  call void putch(i32 32)
  height.load264625 = load i32 from ptr %height.pinned
  call void putint(i32 %height.load264625)
  call void putch(i32 32)
  call void putint(i32 255)
  call void putch(i32 10)
  height.load274633794 = load i32 from ptr %height.pinned
  275634795 = icmp slt i32 0, i32 %height.load274633794
  br i1 %275634795, bb %write_pgm.while.cond278_preheader_preheader, bb %write_pgm.while.exit272
read_image.select.else98:  pred(entry298)
  101559 = call i32 getch()
  102560 = icmp ne i32 %101559, i32 50
  br bb %read_image.select.exit99
read_image.select.exit99:  pred(entry298, read_image.select.else98)
  select100.phi563 = phi [bb %read_image.select.else98, i1 %102560, bb %entry298, i1 1]
  height.pinned = pin ptr @height
  width.pinned = pin ptr @width
  image.pinned = pin ptr @image
  br i1 %select100.phi563, bb %entry298.split, bb %read_image.if.exit106
read_image.if.exit106:  pred(read_image.select.exit99)
  109568 = call i32 getint()
  store i32 %109568 to ptr %width.pinned
  111570 = call i32 getint()
  store i32 %111570 to ptr %height.pinned
  width.load112572 = load i32 from ptr %width.pinned
  114573 = icmp sgt i32 %width.load112572, i32 1024
  121577 = icmp sgt i32 %111570, i32 1024
  840 = or i1 %114573, i1 %121577
  br i1 %840, bb %read_image.select.exit126, bb %read_image.select.else125
read_image.select.else125:  pred(read_image.if.exit106)
  128583 = call i32 getint()
  129584 = icmp ne i32 %128583, i32 255
  br bb %read_image.select.exit126
read_image.select.exit126:  pred(read_image.if.exit106, read_image.select.else125)
  select127.phi587 = phi [bb %read_image.select.else125, i1 %129584, bb %read_image.if.exit106, i1 1]
  br i1 %select127.phi587, bb %entry298.split, bb %read_image.while.cond_preheader
read_image.while.cond_preheader:  pred(read_image.select.exit126)
  height.load140593800 = load i32 from ptr %height.pinned
  141594801 = icmp slt i32 0, i32 %height.load140593800
  br i1 %141594801, bb %read_image.while.cond144_preheader, bb %read_image.while.cond.cp
read_image.while.cond144_preheader:  pred(read_image.while.exit146, read_image.while.cond_preheader)
  y.phi592802 = phi [bb %read_image.while.exit146, i32 %165614, bb %read_image.while.cond_preheader, i32 0]
  width.load148600797 = load i32 from ptr %width.pinned
  149601798 = icmp slt i32 0, i32 %width.load148600797
  br i1 %149601798, bb %read_image.while.body145, bb %read_image.while.exit146
read_image.while.body145:  pred(read_image.while.body145, read_image.while.cond144_preheader)
  x.phi599799 = phi [bb %read_image.while.body145, i32 %162611, bb %read_image.while.cond144_preheader, i32 0]
  width.load152604 = load i32 from ptr %width.pinned
  153605 = mul i32 %y.phi592802, i32 %width.load152604
  155606 = add i32 %153605, i32 %x.phi599799
  780 = shl i32 %155606, i32 2
  157608 = ptradd ptr %image.pinned, i32 %780
  159609 = call i32 getint()
  store i32 %159609 to ptr %157608
  162611 = add i32 %x.phi599799, i32 1
  width.load148600 = load i32 from ptr %width.pinned
  149601 = icmp slt i32 %162611, i32 %width.load148600
  br i1 %149601, bb %read_image.while.body145, bb %read_image.while.exit146
read_image.while.exit146:  pred(read_image.while.body145, read_image.while.cond144_preheader)
  165614 = add i32 %y.phi592802, i32 1
  height.load140593 = load i32 from ptr %height.pinned
  141594 = icmp slt i32 %165614, i32 %height.load140593
  br i1 %141594, bb %read_image.while.cond144_preheader, bb %read_image.while.cond.cp
write_pgm.while.exit272:  pred(write_pgm.while.exit280, if.exit305)
  ret i32 0
write_pgm.while.cond278_preheader_preheader:  pred(if.exit305)
  .pinned847 = pin float 6.283185
  .pinned = pin float 3.141593
  40461711 = fcmp ogt float %300, float %.pinned847
  47462712 = fneg float %.pinned847
  48463713 = fcmp olt float %300, float %47462712
  342464714 = or i1 %40461711, i1 %48463713
  56467717 = fdiv float %300, float %.pinned847
  57468718 = f2si float %56467717 to i32
  62469719 = si2f i32 %57468718 to float
  63470720 = fmul float %62469719, float %.pinned847
  64471721 = fsub float %300, float %63470720
  76478728 = fneg float %.pinned
  90521735 = si2f i32 2 to float
  91522736 = fdiv float %.pinned, float %90521735
  92523737 = fadd float %300, float %91522736
  40409529743 = fcmp ogt float %92523737, float %.pinned847
  48411531745 = fcmp olt float %92523737, float %47462712
  342412532746 = or i1 %40409529743, i1 %48411531745
  56415535749 = fdiv float %92523737, float %.pinned847
  57416536750 = f2si float %56415535749 to i32
  62417537751 = si2f i32 %57416536750 to float
  63418538752 = fmul float %62417537751, float %.pinned847
  64419539753 = fsub float %92523737, float %63418538752
  br bb %write_pgm.while.cond278_preheader
write_pgm.while.cond278_preheader:  pred(write_pgm.while.exit280, write_pgm.while.cond278_preheader_preheader)
  y269.phi632796 = phi [bb %write_pgm.while.exit280, i32 %297653, bb %write_pgm.while.cond278_preheader_preheader, i32 0]
  width.load282640791 = load i32 from ptr %width.pinned
  283641792 = icmp slt i32 0, i32 %width.load282640791
  br i1 %283641792, bb %write_pgm.while.body279, bb %write_pgm.while.exit280
write_pgm.while.body279:  pred(write_pgm.while.body279.split, write_pgm.while.cond278_preheader)
  x277.phi639793 = phi [bb %write_pgm.while.body279.split, i32 %293649, bb %write_pgm.while.cond278_preheader, i32 0]
  br i1 %342464714, bb %x.stack37.phi318474724.which.true, bb %write_pgm.while.body279.split851
write_pgm.while.body279.split851:  pred(write_pgm.while.body279, x.stack37.phi318474724.which.true)
  853 = phi [bb %x.stack37.phi318474724.which.true, float %64471721, bb %write_pgm.while.body279, float %300]
  67475725 = fcmp ogt float %853, float %.pinned
  73476726 = fsub float %853, float %.pinned847
  br i1 %67475725, bb %x.stack37.phi317.which477727.true, bb %write_pgm.while.body279.split851.split
write_pgm.while.body279.split851.split:  pred(write_pgm.while.body279.split851, x.stack37.phi317.which477727.true)
  856 = phi [bb %x.stack37.phi317.which477727.true, float %73476726, bb %write_pgm.while.body279.split851, float %853]
  77479729 = fcmp olt float %856, float %76478728
  83480730 = fadd float %856, float %.pinned847
  br i1 %77479729, bb %x.stack37.phi.which481731.true, bb %write_pgm.while.body279.split851.split.split
write_pgm.while.body279.split851.split.split:  pred(write_pgm.while.body279.split851.split, x.stack37.phi.which481731.true)
  859 = phi [bb %x.stack37.phi.which481731.true, float %83480730, bb %write_pgm.while.body279.split851.split, float %856]
  85482732 = call float my_sin_impl(float %859)
  br i1 %342412532746, bb %x.stack37.phi318422542756.which.true, bb %write_pgm.while.body279.split851.split.split.split
write_pgm.while.body279.split851.split.split.split:  pred(write_pgm.while.body279.split851.split.split, x.stack37.phi318422542756.which.true)
  862 = phi [bb %x.stack37.phi318422542756.which.true, float %64419539753, bb %write_pgm.while.body279.split851.split.split, float %92523737]
  67423543757 = fcmp ogt float %862, float %.pinned
  73424544758 = fsub float %862, float %.pinned847
  br i1 %67423543757, bb %x.stack37.phi317.which425545759.true, bb %write_pgm.while.body279.split851.split.split.split.split
write_pgm.while.body279.split851.split.split.split.split:  pred(write_pgm.while.body279.split851.split.split.split, x.stack37.phi317.which425545759.true)
  865 = phi [bb %x.stack37.phi317.which425545759.true, float %73424544758, bb %write_pgm.while.body279.split851.split.split.split, float %862]
  77427547761 = fcmp olt float %865, float %76478728
  83428548762 = fadd float %865, float %.pinned847
  br i1 %77427547761, bb %x.stack37.phi.which429549763.true, bb %write_pgm.while.body279.split851.split.split.split.split.split
write_pgm.while.body279.split851.split.split.split.split.split:  pred(write_pgm.while.body279.split851.split.split.split.split, x.stack37.phi.which429549763.true)
  868 = phi [bb %x.stack37.phi.which429549763.true, float %83428548762, bb %write_pgm.while.body279.split851.split.split.split.split, float %865]
  85430550764 = call float my_sin_impl(float %868)
  width.load177347662 = load i32 from ptr %width.pinned
  178348663 = sdiv i32 %width.load177347662, i32 2
  height.load180349664 = load i32 from ptr %height.pinned
  181350665 = sdiv i32 %height.load180349664, i32 2
  185351666 = sub i32 %x277.phi639793, i32 %178348663
  189352667 = sub i32 %y269.phi632796, i32 %181350665
  193353668 = si2f i32 %185351666 to float
  194354669 = fmul float %193353668, float %85430550764
  197355670 = si2f i32 %189352667 to float
  198356671 = fmul float %197355670, float %85482732
  199357672 = fsub float %194354669, float %198356671
  201358673 = si2f i32 %178348663 to float
  202359674 = fadd float %199357672, float %201358673
  203360675 = f2si float %202359674 to i32
  208361676 = fmul float %193353668, float %85482732
  212362677 = fmul float %197355670, float %85430550764
  213363678 = fadd float %208361676, float %212362677
  215364679 = si2f i32 %181350665 to float
  216365680 = fadd float %213363678, float %215364679
  217366681 = f2si float %216365680 to i32
  219367682 = icmp slt i32 %203360675, i32 0
  226371686 = icmp sge i32 %203360675, i32 %width.load177347662
  841 = or i1 %219367682, i1 %226371686
  234375690 = icmp slt i32 %217366681, i32 0
  341376691 = or i1 %841, i1 %234375690
  243380695 = icmp sge i32 %217366681, i32 %height.load180349664
  842 = or i1 %341376691, i1 %243380695
  br i1 %842, bb %write_pgm.while.body279.split, bb %write_pgm.rotate.if.exit247
write_pgm.while.body279.split:  pred(write_pgm.rotate.if.exit247, write_pgm.while.body279.split851.split.split.split.split.split)
  288.ret646 = phi [bb %write_pgm.while.body279.split851.split.split.split.split.split, i32 0, bb %write_pgm.rotate.if.exit247, i32 %254.load393708]
  call void putint(i32 %288.ret646)
  call void putch(i32 32)
  293649 = add i32 %x277.phi639793, i32 1
  width.load282640 = load i32 from ptr %width.pinned
  283641 = icmp slt i32 %293649, i32 %width.load282640
  br i1 %283641, bb %write_pgm.while.body279, bb %write_pgm.while.exit280
write_pgm.while.exit280:  pred(write_pgm.while.body279.split, write_pgm.while.cond278_preheader)
  call void putch(i32 10)
  297653 = add i32 %y269.phi632796, i32 1
  height.load274633 = load i32 from ptr %height.pinned
  275634 = icmp slt i32 %297653, i32 %height.load274633
  br i1 %275634, bb %write_pgm.while.cond278_preheader, bb %write_pgm.while.exit272
write_pgm.rotate.if.exit247:  pred(write_pgm.while.body279.split851.split.split.split.split.split)
  250389704 = mul i32 %217366681, i32 %width.load177347662
  252390705 = add i32 %250389704, i32 %203360675
  781 = shl i32 %252390705, i32 2
  254392707 = ptradd ptr %image.pinned, i32 %781
  254.load393708 = load i32 from ptr %254392707
  br bb %write_pgm.while.body279.split
read_image.while.cond.cp:  pred(read_image.while.exit146, read_image.while.cond_preheader)
  br bb %entry298.split
x.stack37.phi318474724.which.true:  pred(write_pgm.while.body279)
  br bb %write_pgm.while.body279.split851
x.stack37.phi317.which477727.true:  pred(write_pgm.while.body279.split851)
  br bb %write_pgm.while.body279.split851.split
x.stack37.phi.which481731.true:  pred(write_pgm.while.body279.split851.split)
  br bb %write_pgm.while.body279.split851.split.split
x.stack37.phi318422542756.which.true:  pred(write_pgm.while.body279.split851.split.split)
  br bb %write_pgm.while.body279.split851.split.split.split
x.stack37.phi317.which425545759.true:  pred(write_pgm.while.body279.split851.split.split.split)
  br bb %write_pgm.while.body279.split851.split.split.split.split
x.stack37.phi.which429549763.true:  pred(write_pgm.while.body279.split851.split.split.split.split)
  br bb %write_pgm.while.body279.split851.split.split.split.split.split
}

external float getfloat()

external void putch(i32 )


