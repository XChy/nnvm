global ptr height init with i32 0
global ptr width init with i32 0
internal global ptr image init with 1048576 x i32 zeros
pure internal float my_sin_impl(float x) {
entry23:  pred()
  3779 = si2f i32 0 to float
  4780 = fcmp ogt float %x, float %3779
  9785 = fneg float %x
  br i1 %4780, bb %26.ret.which.true, bb %entry23.split831
entry23.split831:  pred(entry23, 26.ret.which.true)
  833 = phi [bb %26.ret.which.true, float %x, bb %entry23, float %9785]
  28 = fcmp ole float %833, float 0.000001
  br i1 %28, bb %then29, bb %if.exit30
then29:  pred(entry23.split831)
  ret float %x
if.exit30:  pred(entry23.split831)
  33 = fdiv float %x, float 3.000000
  34 = call float my_sin_impl(float %33)
  13393 = si2f i32 3 to float
  14394 = fmul float %13393, float %34
  16395 = si2f i32 4 to float
  17396 = fmul float %16395, float %34
  19397 = fmul float %17396, float %34
  21398 = fmul float %19397, float %34
  22399 = fsub float %14394, float %21398
  ret float %22399
26.ret.which.true:  pred(entry23)
  br bb %entry23.split831
}

external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 main() {
entry298:  pred()
  300 = call float getfloat()
  301 = call i32 getch()
  95550 = call i32 getch()
  96551 = icmp ne i32 %95550, i32 80
  br i1 %96551, bb %read_image.select.then97, bb %read_image.select.else98
entry298.split:  pred(read_image.then105, read_image.then132, read_image.while.exit)
  302.ret = phi [bb %read_image.then105, i32 -1, bb %read_image.then132, i32 -1, bb %read_image.while.exit, i32 0]
  303 = icmp slt i32 %302.ret, i32 0
  br i1 %303, bb %then304, bb %if.exit305
then304:  pred(entry298.split)
  ret i32 -1
if.exit305:  pred(entry298.split)
  call void putch(i32 80)
  call void putch(i32 50)
  call void putch(i32 10)
  width.load261627 = load i32 from ptr @width
  call void putint(i32 %width.load261627)
  call void putch(i32 32)
  height.load264630 = load i32 from ptr @height
  call void putint(i32 %height.load264630)
  call void putch(i32 32)
  call void putint(i32 255)
  call void putch(i32 10)
  height.load274638796 = load i32 from ptr @height
  275639797 = icmp slt i32 0, i32 %height.load274638796
  br i1 %275639797, bb %write_pgm.while.body271_preheader, bb %write_pgm.while.exit272
read_image.select.then97:  pred(entry298)
  br bb %read_image.select.exit99
read_image.select.else98:  pred(entry298)
  101556 = call i32 getch()
  102557 = icmp ne i32 %101556, i32 50
  br bb %read_image.select.exit99
read_image.select.exit99:  pred(read_image.select.then97, read_image.select.else98)
  select100.phi560 = phi [bb %read_image.select.else98, i1 %102557, bb %read_image.select.then97, i1 1]
  br i1 %select100.phi560, bb %read_image.then105, bb %read_image.if.exit106
read_image.then105:  pred(read_image.select.exit99)
  br bb %entry298.split
read_image.if.exit106:  pred(read_image.select.exit99)
  109565 = call i32 getint()
  store i32 %109565 to ptr @width
  111567 = call i32 getint()
  store i32 %111567 to ptr @height
  width.load112569 = load i32 from ptr @width
  114570 = icmp sgt i32 %width.load112569, i32 1024
  121576 = icmp sgt i32 %111567, i32 1024
  826 = or i1 %114570, i1 %121576
  br i1 %826, bb %read_image.select.then124, bb %read_image.select.else125
read_image.select.then124:  pred(read_image.if.exit106)
  br bb %read_image.select.exit126
read_image.select.else125:  pred(read_image.if.exit106)
  128584 = call i32 getint()
  129585 = icmp ne i32 %128584, i32 255
  br bb %read_image.select.exit126
read_image.select.exit126:  pred(read_image.select.then124, read_image.select.else125)
  select127.phi588 = phi [bb %read_image.select.else125, i1 %129585, bb %read_image.select.then124, i1 1]
  br i1 %select127.phi588, bb %read_image.then132, bb %read_image.if.exit133
read_image.then132:  pred(read_image.select.exit126)
  br bb %entry298.split
read_image.if.exit133:  pred(read_image.select.exit126)
  height.load140596802 = load i32 from ptr @height
  141597803 = icmp slt i32 0, i32 %height.load140596802
  br i1 %141597803, bb %read_image.while.body_preheader, bb %read_image.while.exit
read_image.while.body_preheader:  pred(read_image.if.exit133)
  br bb %read_image.while.body
read_image.while.body:  pred(read_image.while.exit146, read_image.while.body_preheader)
  y.phi595804 = phi [bb %read_image.while.exit146, i32 %165619, bb %read_image.while.body_preheader, i32 0]
  width.load148605799 = load i32 from ptr @width
  149606800 = icmp slt i32 0, i32 %width.load148605799
  br i1 %149606800, bb %read_image.while.body145_preheader, bb %read_image.while.exit146
read_image.while.exit:  pred(read_image.if.exit133, read_image.while.exit146)
  br bb %entry298.split
read_image.while.body145_preheader:  pred(read_image.while.body)
  br bb %read_image.while.body145
read_image.while.body145:  pred(read_image.while.body145, read_image.while.body145_preheader)
  x.phi604801 = phi [bb %read_image.while.body145, i32 %162616, bb %read_image.while.body145_preheader, i32 0]
  width.load152609 = load i32 from ptr @width
  153610 = mul i32 %y.phi595804, i32 %width.load152609
  155611 = add i32 %153610, i32 %x.phi604801
  791 = shl i32 %155611, i32 2
  157613 = ptradd ptr @image, i32 %791
  159614 = call i32 getint()
  store i32 %159614 to ptr %157613
  162616 = add i32 %x.phi604801, i32 1
  width.load148605 = load i32 from ptr @width
  149606 = icmp slt i32 %162616, i32 %width.load148605
  br i1 %149606, bb %read_image.while.body145, bb %read_image.while.exit146
read_image.while.exit146:  pred(read_image.while.body, read_image.while.body145)
  165619 = add i32 %y.phi595804, i32 1
  height.load140596 = load i32 from ptr @height
  141597 = icmp slt i32 %165619, i32 %height.load140596
  br i1 %141597, bb %read_image.while.body, bb %read_image.while.exit
write_pgm.while.body271_preheader:  pred(if.exit305)
  .pinned830 = pin float 6.283185
  .pinned = pin float 3.141593
  40456722 = fcmp ogt float %300, float %.pinned830
  47457723 = fneg float %.pinned830
  48458724 = fcmp olt float %300, float %47457723
  333459725 = or i1 %40456722, i1 %48458724
  56462728 = fdiv float %300, float %.pinned830
  57463729 = f2si float %56462728 to i32
  62464730 = si2f i32 %57463729 to float
  63465731 = fmul float %62464730, float %.pinned830
  64466732 = fsub float %300, float %63465731
  76473739 = fneg float %.pinned
  90516746 = si2f i32 2 to float
  91517747 = fdiv float %.pinned, float %90516746
  92518748 = fadd float %300, float %91517747
  40404524754 = fcmp ogt float %92518748, float %.pinned830
  48406526756 = fcmp olt float %92518748, float %47457723
  333407527757 = or i1 %40404524754, i1 %48406526756
  56410530760 = fdiv float %92518748, float %.pinned830
  57411531761 = f2si float %56410530760 to i32
  62412532762 = si2f i32 %57411531761 to float
  63413533763 = fmul float %62412532762, float %.pinned830
  64414534764 = fsub float %92518748, float %63413533763
  br bb %write_pgm.while.body271
write_pgm.while.body271:  pred(write_pgm.while.exit280, write_pgm.while.body271_preheader)
  y269.phi637798 = phi [bb %write_pgm.while.exit280, i32 %297660, bb %write_pgm.while.body271_preheader, i32 0]
  width.load282647793 = load i32 from ptr @width
  283648794 = icmp slt i32 0, i32 %width.load282647793
  br i1 %283648794, bb %write_pgm.while.body279_preheader, bb %write_pgm.while.exit280
write_pgm.while.exit272:  pred(if.exit305, write_pgm.while.exit280)
  ret i32 0
write_pgm.while.body279_preheader:  pred(write_pgm.while.body271)
  br bb %write_pgm.while.body279
write_pgm.while.body279:  pred(write_pgm.while.body279.split, write_pgm.while.body279_preheader)
  x277.phi646795 = phi [bb %write_pgm.while.body279.split, i32 %293656, bb %write_pgm.while.body279_preheader, i32 0]
  br i1 %333459725, bb %x.stack37.phi314469735.which.true, bb %write_pgm.while.body279.split834
write_pgm.while.body279.split834:  pred(write_pgm.while.body279, x.stack37.phi314469735.which.true)
  836 = phi [bb %x.stack37.phi314469735.which.true, float %64466732, bb %write_pgm.while.body279, float %300]
  67470736 = fcmp ogt float %836, float %.pinned
  73471737 = fsub float %836, float %.pinned830
  br i1 %67470736, bb %x.stack37.phi313.which472738.true, bb %write_pgm.while.body279.split834.split
write_pgm.while.body279.split834.split:  pred(write_pgm.while.body279.split834, x.stack37.phi313.which472738.true)
  839 = phi [bb %x.stack37.phi313.which472738.true, float %73471737, bb %write_pgm.while.body279.split834, float %836]
  77474740 = fcmp olt float %839, float %76473739
  83475741 = fadd float %839, float %.pinned830
  br i1 %77474740, bb %x.stack37.phi.which476742.true, bb %write_pgm.while.body279.split834.split.split
write_pgm.while.body279.split834.split.split:  pred(write_pgm.while.body279.split834.split, x.stack37.phi.which476742.true)
  842 = phi [bb %x.stack37.phi.which476742.true, float %83475741, bb %write_pgm.while.body279.split834.split, float %839]
  85477743 = call float my_sin_impl(float %842)
  br i1 %333407527757, bb %x.stack37.phi314417537767.which.true, bb %write_pgm.while.body279.split834.split.split.split
write_pgm.while.body279.split834.split.split.split:  pred(write_pgm.while.body279.split834.split.split, x.stack37.phi314417537767.which.true)
  845 = phi [bb %x.stack37.phi314417537767.which.true, float %64414534764, bb %write_pgm.while.body279.split834.split.split, float %92518748]
  67418538768 = fcmp ogt float %845, float %.pinned
  73419539769 = fsub float %845, float %.pinned830
  br i1 %67418538768, bb %x.stack37.phi313.which420540770.true, bb %write_pgm.while.body279.split834.split.split.split.split
write_pgm.while.body279.split834.split.split.split.split:  pred(write_pgm.while.body279.split834.split.split.split, x.stack37.phi313.which420540770.true)
  848 = phi [bb %x.stack37.phi313.which420540770.true, float %73419539769, bb %write_pgm.while.body279.split834.split.split.split, float %845]
  77422542772 = fcmp olt float %848, float %76473739
  83423543773 = fadd float %848, float %.pinned830
  br i1 %77422542772, bb %x.stack37.phi.which424544774.true, bb %write_pgm.while.body279.split834.split.split.split.split.split
write_pgm.while.body279.split834.split.split.split.split.split:  pred(write_pgm.while.body279.split834.split.split.split.split, x.stack37.phi.which424544774.true)
  851 = phi [bb %x.stack37.phi.which424544774.true, float %83423543773, bb %write_pgm.while.body279.split834.split.split.split.split, float %848]
  85425545775 = call float my_sin_impl(float %851)
  width.load177338669 = load i32 from ptr @width
  178339670 = sdiv i32 %width.load177338669, i32 2
  height.load180340671 = load i32 from ptr @height
  181341672 = sdiv i32 %height.load180340671, i32 2
  185342673 = sub i32 %x277.phi646795, i32 %178339670
  189343674 = sub i32 %y269.phi637798, i32 %181341672
  193344675 = si2f i32 %185342673 to float
  194345676 = fmul float %193344675, float %85425545775
  197346677 = si2f i32 %189343674 to float
  198347678 = fmul float %197346677, float %85477743
  199348679 = fsub float %194345676, float %198347678
  201349680 = si2f i32 %178339670 to float
  202350681 = fadd float %199348679, float %201349680
  203351682 = f2si float %202350681 to i32
  208352683 = fmul float %193344675, float %85477743
  212353684 = fmul float %197346677, float %85425545775
  213354685 = fadd float %208352683, float %212353684
  215355686 = si2f i32 %181341672 to float
  216356687 = fadd float %213354685, float %215355686
  217357688 = f2si float %216356687 to i32
  219358689 = icmp slt i32 %203351682, i32 0
  226364695 = icmp sge i32 %203351682, i32 %width.load177338669
  827 = or i1 %219358689, i1 %226364695
  234368699 = icmp slt i32 %217357688, i32 0
  332369700 = or i1 %827, i1 %234368699
  243375706 = icmp sge i32 %217357688, i32 %height.load180340671
  828 = or i1 %332369700, i1 %243375706
  br i1 %828, bb %write_pgm.rotate.then246, bb %write_pgm.rotate.if.exit247
write_pgm.while.body279.split:  pred(write_pgm.rotate.then246, write_pgm.rotate.if.exit247)
  288.ret653 = phi [bb %write_pgm.rotate.then246, i32 0, bb %write_pgm.rotate.if.exit247, i32 %254.load388719]
  call void putint(i32 %288.ret653)
  call void putch(i32 32)
  293656 = add i32 %x277.phi646795, i32 1
  width.load282647 = load i32 from ptr @width
  283648 = icmp slt i32 %293656, i32 %width.load282647
  br i1 %283648, bb %write_pgm.while.body279, bb %write_pgm.while.exit280
write_pgm.while.exit280:  pred(write_pgm.while.body271, write_pgm.while.body279.split)
  call void putch(i32 10)
  297660 = add i32 %y269.phi637798, i32 1
  height.load274638 = load i32 from ptr @height
  275639 = icmp slt i32 %297660, i32 %height.load274638
  br i1 %275639, bb %write_pgm.while.body271, bb %write_pgm.while.exit272
write_pgm.rotate.then246:  pred(write_pgm.while.body279.split834.split.split.split.split.split)
  br bb %write_pgm.while.body279.split
write_pgm.rotate.if.exit247:  pred(write_pgm.while.body279.split834.split.split.split.split.split)
  250384715 = mul i32 %217357688, i32 %width.load177338669
  252385716 = add i32 %250384715, i32 %203351682
  792 = shl i32 %252385716, i32 2
  254387718 = ptradd ptr @image, i32 %792
  254.load388719 = load i32 from ptr %254387718
  br bb %write_pgm.while.body279.split
x.stack37.phi314469735.which.true:  pred(write_pgm.while.body279)
  br bb %write_pgm.while.body279.split834
x.stack37.phi313.which472738.true:  pred(write_pgm.while.body279.split834)
  br bb %write_pgm.while.body279.split834.split
x.stack37.phi.which476742.true:  pred(write_pgm.while.body279.split834.split)
  br bb %write_pgm.while.body279.split834.split.split
x.stack37.phi314417537767.which.true:  pred(write_pgm.while.body279.split834.split.split)
  br bb %write_pgm.while.body279.split834.split.split.split
x.stack37.phi313.which420540770.true:  pred(write_pgm.while.body279.split834.split.split.split)
  br bb %write_pgm.while.body279.split834.split.split.split.split
x.stack37.phi.which424544774.true:  pred(write_pgm.while.body279.split834.split.split.split.split)
  br bb %write_pgm.while.body279.split834.split.split.split.split.split
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )


