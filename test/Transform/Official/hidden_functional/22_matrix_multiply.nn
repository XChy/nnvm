global ptr m2 init with i32 0
global ptr n1 init with i32 0
global ptr m1 init with i32 0
global ptr b init with 10000 x i32 zeros
global ptr n2 init with i32 0
global ptr a init with 10000 x i32 zeros
global ptr res init with 10000 x i32 zeros
global ptr MAX_SIZE init with i32 100
external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 main() {
entry60:
  63 = call i32 getint()
  store i32 %63 to ptr @m1
  64 = call i32 getint()
  store i32 %64 to ptr @n1
  br bb %while.cond65
while.cond65:
  154 = phi [bb %entry60, i32 ub, bb %while.exit74, i32 %153]
  148 = phi [bb %entry60, i32 0, bb %while.exit74, i32 %89]
  m1.load69 = load i32 from ptr @m1
  70 = icmp slt i32 %148, i32 %m1.load69
  71 = icmp ne i1 %70, i1 0
  br i1 %71, bb %while.body66, bb %while.exit67
while.body66:
  br bb %while.cond72
while.exit67:
  90 = call i32 getint()
  store i32 %90 to ptr @m2
  91 = call i32 getint()
  store i32 %91 to ptr @n2
  br bb %while.cond92
while.cond72:
  153 = phi [bb %while.body66, i32 0, bb %while.body73, i32 %87]
  n1.load76 = load i32 from ptr @n1
  77 = icmp slt i32 %153, i32 %n1.load76
  78 = icmp ne i1 %77, i1 0
  br i1 %78, bb %while.body73, bb %while.exit74
while.body73:
  80 = mul i32 %148, i32 400
  81 = ptradd ptr @a, i32 %80
  83 = mul i32 %153, i32 4
  84 = ptradd ptr %81, i32 %83
  85 = call i32 getint()
  store i32 %85 to ptr %84
  87 = add i32 %153, i32 1
  br bb %while.cond72
while.exit74:
  89 = add i32 %148, i32 1
  br bb %while.cond65
while.cond92:
  152 = phi [bb %while.exit67, i32 %154, bb %while.exit101, i32 %151]
  147 = phi [bb %while.exit67, i32 0, bb %while.exit101, i32 %116]
  m2.load = load i32 from ptr @m2
  97 = icmp slt i32 %147, i32 %m2.load
  98 = icmp ne i1 %97, i1 0
  br i1 %98, bb %while.body93, bb %while.exit94
while.body93:
  br bb %while.cond99
while.exit94:
  call void matrix_multiply()
  br bb %while.cond118
while.cond99:
  151 = phi [bb %while.body93, i32 0, bb %while.body100, i32 %114]
  n2.load103 = load i32 from ptr @n2
  104 = icmp slt i32 %151, i32 %n2.load103
  105 = icmp ne i1 %104, i1 0
  br i1 %105, bb %while.body100, bb %while.exit101
while.body100:
  107 = mul i32 %147, i32 400
  108 = ptradd ptr @b, i32 %107
  110 = mul i32 %151, i32 4
  111 = ptradd ptr %108, i32 %110
  112 = call i32 getint()
  store i32 %112 to ptr %111
  114 = add i32 %151, i32 1
  br bb %while.cond99
while.exit101:
  116 = add i32 %147, i32 1
  br bb %while.cond92
while.cond118:
  150 = phi [bb %while.exit94, i32 %152, bb %while.exit127, i32 %149]
  146 = phi [bb %while.exit94, i32 0, bb %while.exit127, i32 %145]
  m1.load122 = load i32 from ptr @m1
  123 = icmp slt i32 %146, i32 %m1.load122
  124 = icmp ne i1 %123, i1 0
  br i1 %124, bb %while.body119, bb %while.exit120
while.body119:
  br bb %while.cond125
while.exit120:
  ret i32 0
while.cond125:
  149 = phi [bb %while.body119, i32 0, bb %while.body126, i32 %142]
  n2.load129 = load i32 from ptr @n2
  130 = icmp slt i32 %149, i32 %n2.load129
  131 = icmp ne i1 %130, i1 0
  br i1 %131, bb %while.body126, bb %while.exit127
while.body126:
  133 = mul i32 %146, i32 400
  134 = ptradd ptr @res, i32 %133
  136 = mul i32 %149, i32 4
  137 = ptradd ptr %134, i32 %136
  137.load = load i32 from ptr %137
  call void putint(i32 %137.load)
  call void putch(i32 32)
  142 = add i32 %149, i32 1
  br bb %while.cond125
while.exit127:
  call void putch(i32 10)
  145 = add i32 %146, i32 1
  br bb %while.cond118
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )

void matrix_multiply() {
entry:
  br bb %while.cond
while.cond:
  160 = phi [bb %entry, i32 ub, bb %while.exit12, i32 %159]
  157 = phi [bb %entry, i32 ub, bb %while.exit12, i32 %156]
  155 = phi [bb %entry, i32 0, bb %while.exit12, i32 %59]
  m1.load = load i32 from ptr @m1
  7 = icmp slt i32 %155, i32 %m1.load
  8 = icmp ne i1 %7, i1 0
  br i1 %8, bb %while.body, bb %while.exit
while.body:
  br bb %while.cond10
while.exit:
  ret 
while.cond10:
  159 = phi [bb %while.body, i32 %160, bb %while.exit20, i32 %158]
  156 = phi [bb %while.body, i32 0, bb %while.exit20, i32 %57]
  n2.load = load i32 from ptr @n2
  15 = icmp slt i32 %156, i32 %n2.load
  16 = icmp ne i1 %15, i1 0
  br i1 %16, bb %while.body11, bb %while.exit12
while.body11:
  br bb %while.cond18
while.exit12:
  59 = add i32 %155, i32 1
  br bb %while.cond
while.cond18:
  158 = phi [bb %while.body11, i32 0, bb %while.body19, i32 %55]
  n1.load = load i32 from ptr @n1
  23 = icmp slt i32 %158, i32 %n1.load
  24 = icmp ne i1 %23, i1 0
  br i1 %24, bb %while.body19, bb %while.exit20
while.body19:
  26 = mul i32 %155, i32 400
  27 = ptradd ptr @res, i32 %26
  29 = mul i32 %156, i32 4
  30 = ptradd ptr %27, i32 %29
  32 = mul i32 %155, i32 400
  33 = ptradd ptr @res, i32 %32
  35 = mul i32 %156, i32 4
  36 = ptradd ptr %33, i32 %35
  36.load = load i32 from ptr %36
  39 = mul i32 %155, i32 400
  40 = ptradd ptr @a, i32 %39
  42 = mul i32 %158, i32 4
  43 = ptradd ptr %40, i32 %42
  43.load = load i32 from ptr %43
  46 = mul i32 %158, i32 400
  47 = ptradd ptr @b, i32 %46
  49 = mul i32 %156, i32 4
  50 = ptradd ptr %47, i32 %49
  50.load = load i32 from ptr %50
  52 = mul i32 %43.load, i32 %50.load
  53 = add i32 %36.load, i32 %52
  store i32 %53 to ptr %30
  55 = add i32 %158, i32 1
  br bb %while.cond18
while.exit20:
  57 = add i32 %156, i32 1
  br bb %while.cond10
}


