global ptr y_1 init with i32 0
global ptr x_1 init with i32 0
global ptr x_0 init with i32 0
global ptr h init with i32 0
global ptr y_0 init with i32 0
global ptr w init with i32 0
immutable internal global ptr step init with 8 x i32 [1, 0, -1, 0, 0, 1, 0, -1]
internal global ptr a init with 900 x i32 zeros
external i32 getint()

external i32 getch()

internal i32 search(i32 x, i32 y, i32 n) {
entry:  pred()
  5 = icmp sgt i32 %n, i32 10
  br i1 %5, bb %then, bb %if.exit
then:  pred(entry)
  ret i32 1073741824
if.exit:  pred(entry)
  br bb %while.cond
while.cond:  pred(if.exit, then84, then119, if.exit156)
  num.phi314 = phi [bb %if.exit, i32 1073741824, bb %if.exit156, i32 %num.phi, bb %then119, i32 %num.phi314, bb %then84, i32 %num.phi314]
  select.phi308 = phi [bb %if.exit, i1 0, bb %if.exit156, i1 %select.phi306, bb %then119, i1 %select.phi306, bb %then84, i1 %select.phi306]
  select94.phi302 = phi [bb %if.exit, i1 0, bb %if.exit156, i1 %select94.phi, bb %then119, i1 %select94.phi, bb %then84, i1 %select94.phi302]
  select104.phi300 = phi [bb %if.exit, i1 0, bb %if.exit156, i1 %select104.phi, bb %then119, i1 %select104.phi, bb %then84, i1 %select104.phi300]
  select112.phi298 = phi [bb %if.exit, i1 0, bb %if.exit156, i1 %select112.phi, bb %then119, i1 %select112.phi, bb %then84, i1 %select112.phi298]
  i.phi = phi [bb %if.exit, i32 0, bb %if.exit156, i32 %88, bb %then119, i32 %88, bb %then84, i32 %88]
  searchResult.phi = phi [bb %if.exit, i32 0, bb %if.exit156, i32 %151, bb %then119, i32 %searchResult.phi, bb %then84, i32 %searchResult.phi]
  16 = icmp slt i32 %i.phi, i32 4
  br i1 %16, bb %while.body, bb %while.exit
while.body:  pred(while.cond)
  341 = shl i32 %i.phi, i32 3
  br bb %while.cond23
while.exit:  pred(while.cond)
  170 = icmp sgt i32 %num.phi314, i32 10
  br i1 %170, bb %then171, bb %if.exit172
while.cond23:  pred(while.body, if.exit47)
  x2.phi = phi [bb %while.body, i32 %x, bb %if.exit47, i32 %56]
  y2.phi = phi [bb %while.body, i32 %y, bb %if.exit47, i32 %65]
  select.phi307 = phi [bb %while.body, i1 %select.phi308, bb %if.exit47, i1 %select.phi]
  coun.phi = phi [bb %while.body, i32 0, bb %if.exit47, i32 %68]
  27 = mul i32 %x2.phi, i32 120
  28 = ptradd ptr @a, i32 %27
  340 = shl i32 %y2.phi, i32 2
  31 = ptradd ptr %28, i32 %340
  31.load = load i32 from ptr %31
  33 = icmp ne i32 %31.load, i32 1
  br i1 %33, bb %while.body24, bb %while.exit25
while.body24:  pred(while.cond23)
  x_1.load = load i32 from ptr @x_1
  37 = icmp eq i32 %x2.phi, i32 %x_1.load
  br i1 %37, bb %select.then, bb %select.else
while.exit25:  pred(while.cond23, then46)
  select.phi306 = phi [bb %while.cond23, i1 %select.phi307, bb %then46, i1 %select.phi]
  x_1.load70 = load i32 from ptr @x_1
  71 = icmp eq i32 %x2.phi, i32 %x_1.load70
  br i1 %71, bb %select.then72, bb %select.else73
select.then:  pred(while.body24)
  y_1.load = load i32 from ptr @y_1
  44 = icmp eq i32 %y2.phi, i32 %y_1.load
  br bb %select.exit
select.else:  pred(while.body24)
  br bb %select.exit
select.exit:  pred(select.then, select.else)
  select.phi = phi [bb %select.else, i1 0, bb %select.then, i1 %44]
  br i1 %select.phi, bb %then46, bb %if.exit47
then46:  pred(select.exit)
  br bb %while.exit25
if.exit47:  pred(select.exit)
  52 = ptradd ptr @step, i32 %341
  54.load = load i32 from ptr %52
  56 = add i32 %x2.phi, i32 %54.load
  63 = ptradd ptr %52, i32 4
  63.load = load i32 from ptr %63
  65 = add i32 %y2.phi, i32 %63.load
  68 = add i32 %coun.phi, i32 1
  br bb %while.cond23
select.then72:  pred(while.exit25)
  y_1.load77 = load i32 from ptr @y_1
  78 = icmp eq i32 %y2.phi, i32 %y_1.load77
  br bb %select.exit74
select.else73:  pred(while.exit25)
  br bb %select.exit74
select.exit74:  pred(select.then72, select.else73)
  select75.phi = phi [bb %select.else73, i1 0, bb %select.then72, i1 %78]
  br i1 %select75.phi, bb %then80, bb %if.exit81
then80:  pred(select.exit74)
  ret i32 1
if.exit81:  pred(select.exit74)
  83 = icmp sle i32 %coun.phi, i32 1
  88 = add i32 %i.phi, i32 1
  br i1 %83, bb %then84, bb %if.exit85
then84:  pred(if.exit81)
  br bb %while.cond
if.exit85:  pred(if.exit81)
  90 = icmp eq i32 %x2.phi, i32 0
  br i1 %90, bb %select.then91, bb %select.else92
select.then91:  pred(if.exit85)
  br bb %select.exit93
select.else92:  pred(if.exit85)
  h.load = load i32 from ptr @h
  97 = add i32 %h.load, i32 1
  98 = icmp eq i32 %x2.phi, i32 %97
  br bb %select.exit93
select.exit93:  pred(select.then91, select.else92)
  select94.phi = phi [bb %select.else92, i1 %98, bb %select.then91, i1 -1]
  br i1 %select94.phi, bb %select.then101, bb %select.else102
select.then101:  pred(select.exit93)
  br bb %select.exit103
select.else102:  pred(select.exit93)
  106 = icmp eq i32 %y2.phi, i32 0
  br bb %select.exit103
select.exit103:  pred(select.then101, select.else102)
  select104.phi = phi [bb %select.else102, i1 %106, bb %select.then101, i1 -1]
  br i1 %select104.phi, bb %select.then109, bb %select.else110
select.then109:  pred(select.exit103)
  br bb %select.exit111
select.else110:  pred(select.exit103)
  w.load = load i32 from ptr @w
  115 = add i32 %w.load, i32 1
  116 = icmp eq i32 %y2.phi, i32 %115
  br bb %select.exit111
select.exit111:  pred(select.then109, select.else110)
  select112.phi = phi [bb %select.else110, i1 %116, bb %select.then109, i1 -1]
  br i1 %select112.phi, bb %then119, bb %if.exit120
then119:  pred(select.exit111)
  br bb %while.cond
if.exit120:  pred(select.exit111)
  store i32 0 to ptr %31
  135 = ptradd ptr @step, i32 %341
  137.load = load i32 from ptr %135
  139 = sub i32 %x2.phi, i32 %137.load
  145 = ptradd ptr %135, i32 4
  145.load = load i32 from ptr %145
  147 = sub i32 %y2.phi, i32 %145.load
  149 = add i32 %n, i32 1
  150 = call i32 search(i32 %139, i32 %147, i32 %149)
  151 = add i32 %150, i32 1
  154 = icmp slt i32 %151, i32 %num.phi314
  br i1 %154, bb %then155, bb %if.exit156
then155:  pred(if.exit120)
  br bb %if.exit156
if.exit156:  pred(if.exit120, then155)
  num.phi = phi [bb %if.exit120, i32 %num.phi314, bb %then155, i32 %151]
  store i32 1 to ptr %31
  br bb %while.cond
then171:  pred(while.exit)
  ret i32 1073741824
if.exit172:  pred(while.exit)
  ret i32 %num.phi314
}

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 main() {
entry175:  pred()
  177 = call i32 getint()
  store i32 %177 to ptr @w
  179 = call i32 getint()
  store i32 %179 to ptr @h
  w.load183361 = load i32 from ptr @w
  184362 = icmp ne i32 %w.load183361, i32 0
  br i1 %184362, bb %while.body181, bb %while.exit182
while.body181:  pred(if.exit281, entry175)
  br bb %while.body190
while.exit182:  pred(entry175, if.exit281)
  ret i32 0
while.body190:  pred(while.body190, while.body181)
  i186.phi317360 = phi [bb %while.body190, i32 %214, bb %while.body181, i32 0]
  203 = mul i32 %i186.phi317360, i32 120
  204 = ptradd ptr @a, i32 %203
  store i32 1 to ptr %204
  207384 = ptradd ptr %204, i32 4
  store i32 1 to ptr %207384
  207392 = ptradd ptr %204, i32 8
  store i32 1 to ptr %207392
  207400 = ptradd ptr %204, i32 12
  store i32 1 to ptr %207400
  207408 = ptradd ptr %204, i32 16
  store i32 1 to ptr %207408
  207416 = ptradd ptr %204, i32 20
  store i32 1 to ptr %207416
  207424 = ptradd ptr %204, i32 24
  store i32 1 to ptr %207424
  207432 = ptradd ptr %204, i32 28
  store i32 1 to ptr %207432
  207440 = ptradd ptr %204, i32 32
  store i32 1 to ptr %207440
  207448 = ptradd ptr %204, i32 36
  store i32 1 to ptr %207448
  207456 = ptradd ptr %204, i32 40
  store i32 1 to ptr %207456
  207464 = ptradd ptr %204, i32 44
  store i32 1 to ptr %207464
  207472 = ptradd ptr %204, i32 48
  store i32 1 to ptr %207472
  207480 = ptradd ptr %204, i32 52
  store i32 1 to ptr %207480
  207488 = ptradd ptr %204, i32 56
  store i32 1 to ptr %207488
  207496 = ptradd ptr %204, i32 60
  store i32 1 to ptr %207496
  207504 = ptradd ptr %204, i32 64
  store i32 1 to ptr %207504
  207512 = ptradd ptr %204, i32 68
  store i32 1 to ptr %207512
  207520 = ptradd ptr %204, i32 72
  store i32 1 to ptr %207520
  207528 = ptradd ptr %204, i32 76
  store i32 1 to ptr %207528
  207536 = ptradd ptr %204, i32 80
  store i32 1 to ptr %207536
  207544 = ptradd ptr %204, i32 84
  store i32 1 to ptr %207544
  207552 = ptradd ptr %204, i32 88
  store i32 1 to ptr %207552
  207560 = ptradd ptr %204, i32 92
  store i32 1 to ptr %207560
  207568 = ptradd ptr %204, i32 96
  store i32 1 to ptr %207568
  207576 = ptradd ptr %204, i32 100
  store i32 1 to ptr %207576
  207584 = ptradd ptr %204, i32 104
  store i32 1 to ptr %207584
  207592 = ptradd ptr %204, i32 108
  store i32 1 to ptr %207592
  207600 = ptradd ptr %204, i32 112
  store i32 1 to ptr %207600
  207608 = ptradd ptr %204, i32 116
  store i32 1 to ptr %207608
  214 = add i32 %i186.phi317360, i32 1
  193 = icmp slt i32 %214, i32 30
  br i1 %193, bb %while.body190, bb %while.body190_exclu_exit
while.body217_preheader:  pred(while.body190_exclu_exit)
  br bb %while.body217
while.body217:  pred(while.exit226, while.body217_preheader)
  i186.phi356 = phi [bb %while.exit226, i32 %273, bb %while.body217_preheader, i32 1]
  w.load228348 = load i32 from ptr @w
  229349 = icmp sle i32 1, i32 %w.load228348
  br i1 %229349, bb %while.body225_preheader, bb %while.exit226
while.exit218:  pred(while.body190_exclu_exit, while.exit226)
  x_0.load275 = load i32 from ptr @x_0
  y_0.load276 = load i32 from ptr @y_0
  277 = call i32 search(i32 %x_0.load275, i32 %y_0.load276, i32 1)
  279 = icmp sle i32 %277, i32 10
  br i1 %279, bb %then280, bb %else282
while.body225_preheader:  pred(while.body217)
  232 = mul i32 %i186.phi356, i32 120
  233 = ptradd ptr @a, i32 %232
  br bb %while.body225
while.body225:  pred(if.exit248, while.body225_preheader)
  j.phi351 = phi [bb %if.exit248, i32 %270, bb %while.body225_preheader, i32 1]
  344 = shl i32 %j.phi351, i32 2
  236 = ptradd ptr %233, i32 %344
  238 = call i32 getint()
  store i32 %238 to ptr %236
  246 = icmp eq i32 %238, i32 2
  br i1 %246, bb %then247, bb %else
while.exit226:  pred(while.body217, if.exit248)
  273 = add i32 %i186.phi356, i32 1
  h.load220 = load i32 from ptr @h
  221 = icmp sle i32 %273, i32 %h.load220
  br i1 %221, bb %while.body217, bb %while.exit218
then247:  pred(while.body225)
  store i32 %i186.phi356 to ptr @x_0
  store i32 %j.phi351 to ptr @y_0
  br bb %if.exit248
if.exit248:  pred(then247, else, then262)
  270 = add i32 %j.phi351, i32 1
  w.load228 = load i32 from ptr @w
  229 = icmp sle i32 %270, i32 %w.load228
  br i1 %229, bb %while.body225, bb %while.exit226
else:  pred(while.body225)
  261 = icmp eq i32 %238, i32 3
  br i1 %261, bb %then262, bb %if.exit248
then262:  pred(else)
  store i32 %i186.phi356 to ptr @x_1
  store i32 %j.phi351 to ptr @y_1
  br bb %if.exit248
then280:  pred(while.exit218)
  call void putint(i32 %277)
  call void putch(i32 10)
  br bb %if.exit281
if.exit281:  pred(then280, else282)
  290 = call i32 getint()
  store i32 %290 to ptr @w
  292 = call i32 getint()
  store i32 %292 to ptr @h
  w.load183 = load i32 from ptr @w
  184 = icmp ne i32 %w.load183, i32 0
  br i1 %184, bb %while.body181, bb %while.exit182
else282:  pred(while.exit218)
  call void putint(i32 -1)
  call void putch(i32 10)
  br bb %if.exit281
while.body190_exclu_exit:  pred(while.body190)
  h.load220352 = load i32 from ptr @h
  221353 = icmp sle i32 1, i32 %h.load220352
  br i1 %221353, bb %while.body217_preheader, bb %while.exit218
}

external float getfloat()

external void putfloat(float )

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )


