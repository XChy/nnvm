global ptr parent init with 1005 x i32 zeros
immutable global ptr maxN init with i32 1005
void merge(i32 p, i32 q) {
entry24:
  30 = call i32 find(i32 %p)
  32 = call i32 find(i32 %q)
  35 = icmp ne i32 %30, i32 %32
  br i1 %35, bb %then36, bb %if.exit37
then36:
  39 = mul i32 %32, i32 4
  40 = ptradd ptr @parent, i32 %39
  store i32 %30 to ptr %40
  br bb %if.exit37
if.exit37:
  ret 
}

external i32 getint()

external i32 getch()

external void putint(i32 )

external i32 getarray(ptr )

external i32 getfarray(ptr )

i32 main() {
entry42:
  44 = call i32 getint()
  46 = call i32 getint()
  br bb %while.cond
while.cond:
  i.phi101 = phi [bb %entry42, i32 0, bb %while.body, i32 %62]
  55 = icmp slt i32 %i.phi101, i32 %44
  br i1 %55, bb %while.body, bb %while.exit
while.body:
  58 = mul i32 %i.phi101, i32 4
  59 = ptradd ptr @parent, i32 %58
  store i32 %i.phi101 to ptr %59
  62 = add i32 %i.phi101, i32 1
  br bb %while.cond
while.exit:
  br bb %while.cond63
while.cond63:
  i.phi100 = phi [bb %while.exit, i32 0, bb %while.body64, i32 %76]
  68 = icmp slt i32 %i.phi100, i32 %46
  br i1 %68, bb %while.body64, bb %while.exit65
while.body64:
  70 = call i32 getint()
  71 = call i32 getint()
  call void merge(i32 %70, i32 %71)
  76 = add i32 %i.phi100, i32 1
  br bb %while.cond63
while.exit65:
  br bb %while.cond78
while.cond78:
  clusters.phi105 = phi [bb %while.exit65, i32 0, bb %if.exit92, i32 %clusters.phi]
  i.phi = phi [bb %while.exit65, i32 0, bb %if.exit92, i32 %96]
  83 = icmp slt i32 %i.phi, i32 %44
  br i1 %83, bb %while.body79, bb %while.exit80
while.body79:
  86 = mul i32 %i.phi, i32 4
  87 = ptradd ptr @parent, i32 %86
  87.load = load i32 from ptr %87
  90 = icmp eq i32 %87.load, i32 %i.phi
  br i1 %90, bb %then91, bb %if.exit92
while.exit80:
  call void putint(i32 %clusters.phi105)
  ret i32 0
then91:
  94 = add i32 %clusters.phi105, i32 1
  br bb %if.exit92
if.exit92:
  clusters.phi = phi [bb %while.body79, i32 %clusters.phi105, bb %then91, i32 %94]
  96 = add i32 %i.phi, i32 1
  br bb %while.cond78
}

external float getfloat()

external void putfloat(float )

i32 find(i32 root) {
entry:
  3 = mul i32 %root, i32 4
  4 = ptradd ptr @parent, i32 %3
  4.load = load i32 from ptr %4
  7 = icmp eq i32 %4.load, i32 %root
  br i1 %7, bb %then, bb %else
then:
  ret i32 %root
else:
  17.load = load i32 from ptr %4
  19 = call i32 find(i32 %17.load)
  store i32 %19 to ptr %4
  ret i32 %19
}

external void putch(i32 )

external void _sysy_stoptime(i32 )

external void putarray(i32 , ptr )

external void _sysy_starttime(i32 )

external void putfarray(i32 , ptr )


